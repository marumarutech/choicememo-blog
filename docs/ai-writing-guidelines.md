# AIライティング仕様書（ブログ記事生成用）

ChoiceMemo のブログ記事を AI に執筆させる際は、本書の要件を必ずプロンプトに含めてください。特に MDX で使用可能なコンポーネントは限定されているため、未登録の JSX を出力しないよう注意します。

## 1. ファイルとフロントマター
- 保存先: `content/posts/<slug>.mdx`
- 文字コード: UTF-8（BOMなし）
- ファイル名: 半角英数字とハイフンのみ（例 `news-2025-09-example.mdx`）
- 必須フロントマター項目:
  ```mdx
  ---
  title: "記事タイトル"          # 全角可
  slug: "news-2025-09-example"   # 半角英数字とハイフンのみ
  description: "リード文の要約"
  category: "topics"             # docs/content-authoring.md を参照
  tags: ["タグ1", "タグ2"]       # 配列。空可
  date: "YYYY-MM-DD"             # ISO 形式。必要なら "YYYY-MM-DDThh:mm:ss+09:00"
  updated: "YYYY-MM-DD"          # 任意
  hero: "/images/posts/slug.png" # 任意。存在する場合のみ
  affiliate: false                # デフォルト false
  draft: on                       # 公開=on / 非公開=off
  ---
  ```
- オプションで `faqs` を追加すると FAQ JSON-LD が出力される。

## 2. 使える MDX コンポーネント（厳守）
以下のコンポーネントのみ使用可能です。未掲載の JSX は出力しないでください。

| コンポーネント | 用途 | 例 |
| --- | --- | --- |
| `<Lead>…</Lead>` | 導入のリード文 | `<Lead>2025年9月最大のトピックを整理します。</Lead>` |
| `<TOC />` | 自動目次 | セクションが3つ以上ある記事で先頭に配置可 |
| `<ProsCons pros={["利点"]} cons={["注意点"]} />` | 長所と短所を並列表示 | |
| `<Pros items={["利点1", "利点2"]} />` | 長所のみ列挙 | |
| `<Cons items={["注意点"]} />` | 短所のみ列挙 | |
| `<CTAButtons links={[{ label: "公式サイト", href: "https://" }]} />` | ボタン群（外部リンク） | |
| `<Button href="https://" >テキスト</Button>` | 単体ボタン | |
| `<CompareTable cols={[…]} rows={[…]} />` | 比較テーブル | |
| `<ReviewCard … />` | 製品/サービスの短評 | |
| `<Rating value={4.5} />` | 星評価表示 | |

補足:
- `ProsCons` と `Pros`/`Cons` は排他的に使用する（同じセクションで重複させない）。
- 比較テーブルやボタンに外部 URL を入れるときは `https://` で始まる完全な URL を指定する。
- JSX 内の文字列はすべてダブルクォートで囲む。

## 3. Markdown 記法
- remark-gfm を有効化済み。表、チェックボックス、打消し線が利用可能。
- 画像の埋め込みは Markdown の `![]()` を使用し、`public/` 配下のパスを指定する。外部画像は使用しない。
- HTML を直接書く場合は極力控える。必要な場合でも自己完結する要素のみ。

## 4. 記事構成テンプレート
以下の構成例をベースに記事を生成させる。

```
<Lead>リード文</Lead>

## 見出し1
本文（Markdown）

## 見出し2
- 箇条書き
- 箇条書き

## 見出し3
<Pros items={["長所"]} />
<Cons items={["注意点"]} />

## まとめ
本文
```

- H1（`#`）は frontmatter の `title` が自動で使われるため本文では使用しない。本文の最上位見出しは `##`。
- セクション冒頭の時系列や数値は必ず日付（YYYY-MM-DD）や金額を明記する。
- 同日に複数の記事を公開する場合は `date` に時刻付き ISO 形式を指定し、公開順を制御する。

## 5. 注意事項
- 登録されていない React コンポーネントを出力するとビルドが失敗するため厳禁。
- `draft` を明示する（未指定の場合 true になる可能性があるため）。
- アフィリエイトリンクは `affiliate: true` にし、本文にも明記する。
- 内部リンクを張る場合は `/news/2025-09/slug` のようにルート相対パスで記述する。
- コードブロックはバッククォート3つで囲み、必要なら言語ラベルを付ける（例 ` ```ts `）。

## 6. プロンプト例
```
あなたは ChoiceMemo ブログの記事ライターです。以下の制約を守って MDX を生成してください。
- 使える MDX コンポーネントは Lead, TOC, ProsCons, Pros, Cons, CTAButtons, Button, CompareTable, ReviewCard, Rating のみ。
- フロントマターの必須項目をすべて埋める。
- 本文では H1 を使わない。
- ISO 日付を用いた正確な時系列を示す。
テーマ: 2025年9月の紀州のドン・ファン関連ニュース
見出し構成: リード、タイムライン、人物像、裁判の現状、寄付と自治体、まとめ
出力形式: `content/posts/news-2025-09-kishu-donfan.mdx`
```

以上の要件をプロンプトに含めることで、AI が ChoiceMemo の基準を満たした MDX 記事を出力できます。
